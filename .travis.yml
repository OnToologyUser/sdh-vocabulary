sudo: false
cache:
  directories:
  - $HOME/.m2/repository
  - $HOME/.sonar
language: java
jdk:
- oraclejdk7
before_install:
- if [[ -a .git/shallow ]]; then git fetch --unshallow; fi
before_script:
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in target/config/ci/secring.gpg.enc
  -out local.secring.gpg -d
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in target/config/ci/pubring.gpg.enc
  -out local.pubring.gpg -d
script:
- if [ ${TRAVIS_BRANCH} == 'master' ] && [ ${TRAVIS_PULL_REQUEST} = 'false' ];
  then mvn clean deploy -B -Dcodebase.directory=`pwd` -Dcoverage.reports.dir=`pwd`/target/all --settings target/config/ci/settings.xml;
  else mvn clean install -B -Dcoverage.reports.dir=`pwd`/target/all --settings target/config/ci/settings.xml;
  fi
- if [ ${TRAVIS_PULL_REQUEST} = 'false' ];
  then mvn sonar:sonar -B -Dsonar.branch=$TRAVIS_BRANCH -Dcoverage.reports.dir=`pwd`/target/all --settings target/config/ci/settings.xml;
  fi
- mkdir /tmp/cache-trick
- mv $HOME/.m2/repository/org/smartdeveloperhub /tmp/cache-trick/
env:
  global:
  - secure: 4w7MxqSdUK/JF2NubFuvsTXpkTR2wKGLVtEqvp/ETJKBAeB33PLg6Lk+463bcAbAtb8HHHiXL4igmAN/MgW6/qFZi9O+/DCl7C/Y53eBPHH1BAmvGywbL/gJABllNSK49Jvo5W+MkH6KmVzilQO11/IKWeBB8F3wMe98umL4FGiQQTPgYwNrhJGXKVwtJP7P4hH8ZC+Lo2LpXGF6JVcw9m+7rfDvPHoeX2aaq9ygeRdE5iwH/D/jfeSy4/gZMztgnwk/5ODzQipC6Jb5QIuUH3bj0HkFIz/RAu9QNRPbr+OWtExK7si1ECZgJC+pr/2KqqmfJ/5jLLVd1/g5zyTZYGSyU8ASnoo5u3Gk2mWpnfDbo8UrVSuKiPLmiax+a4C/DA6j0n4IMdbh1+R51SqUFQxEf1uVIt6ebN3TZkIOyo0ZAoW48YLFe3WUZOIoe6PXwWv4xNovN+DqGz+Fv3J30tdUTZonfs1S4UBuaMcnVIdz7cv9ZL0zCASTfK5Kc/mNPwF3vrBUYYFi0J2f2uYHSU4Qg18cWNG+UoIfeN3mI/FQTcw+mjDe0hHzqulD6sOFWQZHPIDFudO4uQ/5gD0YcKmFaVtEBTyM+dN4dzYt0D1/GW8UHkHUrCUVvT3Q/uTU5pkWLN5pyh2YqDuLTMSztq0XH0V/xUXh2RiBFE7hHaM=
  - secure: M9DkHCWaN9Os6OqLv5zV4L5DzCQap4q7aQjnbCyBfJHI4NQlb3zieSXSVORm17SpyrIj77LdRbhxuIkUgMCVOGTZg578TgnR5fry1XdND/NCaadkvTOiFR6rbfpnMbVDRiVLkdT/sEmREwlV/Oa6pGuOpJeYLmmBzVU59P0zrXonv3j7LXuzFSVfJNj30om4Dlq4nhkXjND4ZCYlfEIcpAUNAxEtlxLprL7gJ8CJBiyGfQCLCTTqYqsP/jkYWeiG9nBgY0pblT9Finm0Yfixo6RZ6wUM4DsxILA5MVvvOj+uMkODD5mG4G3rx9iRjObw1vzZXEfqIaP8e1XBS8r4RBXAw2X8BXrT2PpH/V4Hby4uiTq7up1xO9APnCGtIeHLv6ltp4nhrmGsrpBqccq1KxEN8WGoWUJn4hiRdIuS4/ly9EZnnjhWWHpNrQ/lSaU4wMolnOcSnGyupPNJgUilGr0QWuastc/wdCoEoM1H/H5KlF4zAvmraO5Wl9EMqhJ2zcs2lWyUVDck8xDyQbnuoIlO2dwvinRJEWwHp2YYHaJ2Vc13qC4oFMgLp5nUm8lIuYqKCUm4o8Fficc0hut2w9I9eSo0ra+jH5PER7wui5cFbuMo9xT3mBb9nAg3VDGdw7ZmKOUe6iTnvAkFqzEV6yYwE2e7Pu0MOTYjwUg/+ZI=
  - secure: NORW1fYCe661H+8+mk73sw5fg2bpLIV/j+n0hB7mKt47h+aZ0b1hyhXsqlPb+0mCr1E+nMTkixHQLsJNlJjZuE16l/t/XpW5XAO64vLCidKS9xcRlUUyfoPaFmBOi62A1/O2UEb61fOzUAxf5DTIDUbnNy2qeHLvuZMofvk/6HAfdcLyAwNCUkcOgEGosiYYwvyYKBj0HDPgN3dzyNnFFbLDAZajt4iqJamN0e+9j9DFWAhqrz2HKtVVAfwej7Dt0gt082uRKiOoMoJErrcF85W65rF1Z4zizEciR/hRgbc8MDlRyUUs0PFNz/tudVVDgvu+rXykINKQcYGBhqSYBRTTyusrF9Ml/k4opzJKAP9f6DgQZnAFKNwqsi5McFUjKRohBvme6+wq2TqoFUpkxZ1FMWq2HDURzk2sSmKq5T5Gs1XAKCKt9HMd2ZmnrkdYNG6uiVzTsGb9xSYUG1KJT2uRvKbWqAt/HQE8kKfeAmBd4WZ7uTxtWbyYTflaKre7cSnKpjSnHpQcgXAaTvzwZkMybv+3OWBE9Q+0uinl5BtGiMYjrlMeNWOdO+lIGOwrth2MnjiL/2R52GVSmWZ44ZTqsa/9K1PYLQ3IfFuZ3q1zcvtZDrLpj+GeJzTPd1GMoJESGg2PGAZ+3KKHJfvLKfO6Ufh5u94JAMCPxS9LMSo=
  - secure: pLlLjlfe3NsdiSXjU5LblgSbWn6kJddyrx0oJXCZcdbmyC/jY6OD4xU3ueF8dd4jksU8t7PMGcM43e0RgUSxS30FJfWuttJX2z3LCNYO4n+BPEXsWFtsDhgBTIvwWMs4AYszX0jzqD926TS+hsb14JclIb1wFySEqUSiiKKuk4JSd+sKHDZMXbbZ1NQckM/aAuEA8A0fGhZcAbrNeAHeh7ya+SEvzyJzzPY0Om323uk0/135VF4hgUD9y2m59KWCkMS/uzSLDGDkI3fHs5JzvHc641GTMkRgrg89CsCcM0DVwr08V3sR4hxD3suHUCn+Hd0pjKzsKoVhmsRvbdFCPKyX2hFl7wrk2r9z6GXb9hkRGQhsvv3ywzSBVCUS+83R+IdsuKYcdzS563iRb9wkYXiMquku+vAfDLr35czQf4EWqQj/M6OJRGOsOjdVmINAooOA7tuUpkSeWVO9yGqIkCvDr+3wQIPvR0mLl2opCS/b3OuraNXzRroMx3j4SSEree3KUyTAxIaAuoxwUIeN9yrRqVn4jV6LLeaO2PLGEo0HsHsPH+tK7ABDYhEfaOSjkuESRgP/YCmHhlgHUKUFHjXePZu665YCLnX3HsJ8/Nr5uU4UT55tE1FpOngzWk60DG9/BZBaywefqgE8XncZkAhLwfludlCG23ra1/YEn7k=
  - secure: F85sVSBF7zx0dmwuMTIFxiZ7UDbVw+WdXWCAfoLEY/vWyHoN2uRSz7JglGqt9bfNaeRcZLkphafCKmEKKQuuu6txAAku43tQZEz+ebUa0QNgUahqe6MPxk/T67xcFDaTDLyC4SbWGxeivL4XXXCyKaCYGm1DyyTWDzncq4pdjEoPeDy83VruxCd2+NpAhwRX5y8ipaqt23x1IjhNixn3YZxmfSohH3z+o1MwC69Ij5cVKfCMBCawmNx0n3HP4jHkqKdMZojABI4L0exgEeltFUtnvOK0wGu5cDW0PZ9SPLEnupM7rIKa0OjkP6j34uMWugJnbbNBexCPDlcbEqlyhfqfw2l700NirgW+JfAMriWUH7tyPqGOquu+2vlEzT2mp9v1Up7RNsGBn3E/FdEYaE1WfOzFwlbUQ3JLn+sZdh2PcLxqwRwrTG7CRfur84OPB5DF+jQlPU8s2Gw3bq/NAQyMdBTyjS9PxgVDFk6vOZufwtVKGn224BqQTB3+ywUIHQ5fifi/Vp2e8Kif6ISCkrVVb3B+xdFboDvBPpk7gZLkop5PWtJPV2gMbrygF09/Z1uLtt2oap5b15ID45ci9lFTvreMUsD9hFmNXQq+bP/Wd/B4Tw7xDDPCXFR7/EqcaclFehJFBUEc/wyDsTQW7upDVYqM18rMLiU/AjUsLxM=
  - secure: pNRATNvYNX4mcbvJ5pSQfNuqH8jOuaG8Ov7dxh9Wq1IyNNUAqvD49Nyg2YXzKuu1E8FhjUnLaTgEFZ+Fp3P9ldsZf1BxhPPjSAv46JKZwhY4EI1rY5G+hLicCD6mvpsRYsqDmv+2Q3lI8rjGr8PsubC0Y3ERDgw9CLYtGpLPCHs8pv8PzaGmNAhTwSMeJwTyTN8Ge7IWjqKa4XrRjTHSnt+IaxoTD6nxaDQ2FVf3W1P2H2xkGLlCR0qTDrXfOdNiFHD+wY1xNQZmxZc5VYdiTFkDeV0njQcxGuPbV17ZK3IHrD9OzNXBm9HhKpO8r4yw0aD5RJ9s4vYk1cGEKSAkcAAt1V7t+kzkDlnGoPI2YUoSJZPQJBd3gGiavVw8dOqJ3Jm+3XoNamLoc2Lkuww90ZnIHM4iVLDLZrcAXZ5Pbeg8eC/O6yx8jYRug9z8HFQqngEeLJFSLHDDhOkAtCatndYNd/0LfIOwBKhI29IVrQwrUHKH0cFp1dW4cZjO7V8PpetoMVrOs78OtQ1Ob/zTOkl2yB4Mqp53mc5teO7vG06d1KbK34PoZseaI+C8ZNHJiJ7m/gnUL2Q0uS2o/brnIwW8ne/trbdtbQ3h8tSLv3etPdFFmpjriztLlvVWp5TOaVLvTWdww/++12UFZ6bbnFL40tIgYkLeJA5RyK/nlsQ=
  - secure: Fa0wCUPVlmqFl1G7EmXhMSHH2MYCrcwKUTywD6RTLLD1XPXb2MN7Hf9Kfm+y7L8/NQ4HXXUoqWT+Iyvuz3O9N3YBDzSeIzglF2bGg0WGShVXgqi3O+JaVK/nPykI4pGtr0s/Ixd99zcfyYkbSf9vOoc7ECxR4WpztqKpK2PXrQME3l0adA0oyTEhChdIzBtWez7wJ09xQ/YQCM8b1m59TpTVbr9MC34lZFZL+J6nUpf07Xk37MSpTroJ4vRMkJyMMPgK3NfG6jZQZkHy65tx7syYZOARK0WthBogCmkYqUQ1bfi5JSTJd9YJjsXoTPAx0b6hGLsmQuWZi+BuI4MkY5cHPd11b0tFMl+f3D6rV6Dv3C3B7KS8Qja3PodavvmlF1jB7Vk5yLPK6gSe/wYiL0rWsOgPMYMSRAUP+cosQMP6DWIMg/LMcn3KmSqSfCSQ5yHFknxxsAXomd2fhlpAs19jnrmWV486gsGro4N+Ha0cGAxmfT+EYon9swj4tqhch3Hv8b9SOrv8fw7xxCDlykYMsMv67CTENk88NntlOG71VaW1br5RvwImfXzWq/lpdW3/8h+vX+j8nQ1WvCs2X0ysBJj07EndbY3e6UFka4vb/39sOVPA2gSNb3+NiIn7GVrYluA0t34KAoS977U5ujBWFbElVkjGZTiLDnFKZgs=
  - secure: usQulu6udTFgj9Y5I7ByAhzqA8F/0nhj4FwhDpHUqslQPDS+3XQPhua5mcTyFm856Up+HmZxd/+9tEO/jAYxKG0HTyn2qqOWyKCwgi7/WZX0t6FbmJ2136hTwgYmrVdL2zyhLl7LsLkx7Vj8mAz6hlq1YWvOwE+kZx0M+VKtG9MJfrCQrtQfeNMJG7UxEZIN9RpTwexQdOh5POuz7IYE5ctZSbGrBpPobDmYMJ3BpoeTwz54+KXParIvzUcHH33fm/GNgmzdnKYvPi4AR3PfsorSaqsDtDmsNLKPiRoX7ms90cjB8sh2+KlGtoIYGpg+T4yArHl7I2v/JEuaGGzqRw1smu9SRL5GcPtAHtz7Dfk6Oatfj/I/4G14dYJoLbmLp3jU3H9hU46y5aCls+B25vwzAfhdFTe5PxcHz7panVtO7S0NPEksEYLQM4Om5unkvM5ueySVeRJdP5ygupwhSQpUJAra0UaddhgD0qiPD+hZF0VRZC6DnRPEa5vMeIu76a90sm1PJ2tfwabT3vsVuqTMi+6X4zii8woa8DRba+PkH8TfQieYSgmNK6TOdJfBpqq+42naj2HmuEqOeMotLc81Qr7eDpB4rw3pPECqzO027E3wyG9o0pp20hbg6spWr7MFQuzVZ+RuScn1T8dJFcBS/yBXoS/eJc8YqaJUgoo=
  - secure: MVOcPu9T5MQw5XCs0O9QSSukH+UCimoQuMPbtjt7WGEUq6CJUBduPcr1wgiF3DBO9FlO8SWUWQDLs5v+7N5c4BP6xyNFWGUvVQrH0626WuY+11yifRzbICD0UMln9NwnXLtHpwjkCdV0WuQyThJ16N8HgjNdkrHk6huVrxEanws1xsY3eClwQ9CF/m1uq4Pbfu52Ooy34nX49YrlJXs2QJR78HszRX+mUIMBjvnYytJBzBIV9JkcikrUnnpWrTPD3Qj4ZsyxHqCo6Mync/CZIOzFbwD7p+oDSyBxeAvYnhdupLj4wJ/ltcypUX/CeeuZQH7tFgC1R7ePzJD0kPfo4rGwiudNs/iVxW0o0u0CVUvWE0IRDmJPCxN3Zkgeq8XKdiOpGVuOj8rlg5bJleyvZQV6SZKuDcHxonwQrdAjLEwzG9HrKgTa+10sYqA5g8w4LooLR18ekrFtec9oVzbq/CyhNx2u4fWCiRqu5qFApCbSLqhJcor7hdTZt0DNod/BLCsN4lbM/UgaoMrLLb7Pqb/2EXb5FYCv9oy3PK8WGUasRfGqqvapYbSLdlDkQFZhXJ4Men6v8S5+HTMJRg3mfi4jUodOpSIGGaju+wJTlOd4cxPfFBdIQTzmmwdvrvtjiagiA32HVqnXGDO5irRa0Y7qfYvn9Z6GwobdMZuPB4U=
